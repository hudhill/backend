enum Permission {
  IT
  ADMIN
  SCIENTIST
  MENTOR
  TEACHER
  STUDENT
  PARTICIPANT
}

type Profile {
  id: ID! @id
  username: String! @unique
  permissions: [Permission] @scalarList(strategy: RELATION)
  authEmail: [AuthEmail]!
  authToken: [AuthToken]!
  authInvite: [AuthInvite]! @relation(name:"Owner")
  authParticipant: [AuthParticipant]!
  results: [Result]!
  teacherIn: [Class]! @relation(name:"Classcreator")
  studentIn: [Class]! @relation(name:"Studentofclass")
  image: String
  largeImage: String
  info: Json
}

type AuthEmail {
  id: ID! @id
  email: String! @unique
  password: String!
  resetToken: String
  resetTokenExpiry: String
  profile: Profile!
}

type AuthToken {
  id: ID! @id
  token: String! @unique
  tokenExpiry: String
  profile: Profile!
  email: String @unique
}

type AuthInvite {
  id: ID! @id
  profile: Profile! @relation(name:"Owner")
  invitedIn: Class! @relation(name:"Invite")
}

type AuthParticipant {
  id: ID! @id
  email: String @unique
  password: String!
  resetToken: String
  resetTokenExpiry: String
  profile: Profile!
  settings: Json
}

type School {
  id: ID! @id
  title: String!
  description: String
  image: String
  largeImage: String
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  creator: Profile!
}

type Class {
  id: ID! @id
  title: String!
  description: String
  image: String
  largeImage: String
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  creator: Profile! @relation(name:"Classcreator")
  students: [Profile]! @relation(name:"Studentofclass")
  invites: [AuthInvite]! @relation(name:"Invite")
}

type Experiment {
  id: ID! @id
  title: String!
  shortDescription: String
  description: String
  image: String
  largeImage: String
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  author: Profile!
  parameters: Json
  customExperiments: [Parameter]!
  script: String
  style: String
}

type Result {
  id: ID! @id
  experiment: Experiment! #relationship to Experiment
  user: Profile! #relationship to Profile
  quantity: Int!
  data: Json
  dataPolicy: String
  token: String @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  parameters: Parameter
  payload: String
}

type Parameter {
  id: ID! @id
  title: String!
  experiment: Experiment!
  author: Profile!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  data: Json
  settings: Json
}
